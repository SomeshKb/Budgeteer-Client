<section *ngIf="userDetails" class="userForm">
  <label >{{userDetails.email}}</label><br>
  <label >{{userDetails.firstName}} {{userDetails.lastName}}</label><br>
</section>

<div class="button-group">
  <button [disabled]=isOpenBudget (click)="toggleBudget()">Current Budget</button>
  <button [disabled]=!isOpenBudget (click)="toggleBudget()">Past Budget</button>
</div>
<section class="itemForm" *ngIf="publishedBudget.length===0">
    <h4>No Item to Display</h4>
  </section>
<section *ngIf="publishedBudget[0]&&!isOpenBudget" class="itemForm">
  <h4>Past Items Bought by you</h4>
  <section class="budget" *ngFor="let item of publishedBudget;let i=index">
      <section class="budgetDetails" *ngIf="contributors[i]&&item.hasSettled"  >
        <dd id="name">{{item.name}}</dd>
        <dd>{{item.description| titlecase}}</dd>
        <dd>Date: {{item.createdDate|date}}</dd>
        <dd>Rs. {{item.cost}}</dd>
        <dd>Contributors:</dd>
        <dd *ngFor="let contriUser of item.contributors;let j=index">
          <p *ngIf="contributors[i][j]">{{contributors[i][j].firstName}}</p>
        </dd>
        <dd>Status:{{item.hasSettled?"Completed":"Not Completed"}}</dd>
        <button [disabled]="item.hasSettled" (click)="budgetSettled(item.id)">Settle It</button>
      </section>
    </section>
  </section>


<section  *ngIf="publishedBudget[0]&&isOpenBudget" class="itemForm" >
  <h4>Items Bought by you</h4>

    <section class="budget" *ngFor="let item of publishedBudget;let i=index">
      <section class="budgetDetails" *ngIf="contributors[i]&&!item.hasSettled"  >
        <dd id="name">{{item.name}}</dd>
        <dd >{{item.description| titlecase}}</dd>
        <dd >Date: {{item.createdDate|date}}</dd>
        <dd >Rs. {{item.cost}}</dd>
        <dd>Contributors:</dd>
        <dd *ngFor="let contriUser of item.contributors;let j=index">
          <p *ngIf="contributors[i][j]">{{contributors[i][j].firstName}}</p>
        </dd>
        <dd>Status:{{item.hasSettled?"Completed":"Not Completed"}}</dd>
        <button [disabled]="item.hasSettled" (click)="budgetSettled(item.id)">Settle It</button>
      </section>
    </section>

</section>